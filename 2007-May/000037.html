<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Slim-dev] Bug #7870: feature request: better xsession	integration
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/slim-dev/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:slim-dev%40lists.berlios.de?Subject=Re%3A%20%5BSlim-dev%5D%20Bug%20%237870%3A%20feature%20request%3A%20better%20xsession%0A%09integration&In-Reply-To=%3C465E0824.30301%40parmus.dk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000036.html">
   <LINK REL="Next"  HREF="000038.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Slim-dev] Bug #7870: feature request: better xsession	integration</H1>
    <B>Martin Parm</B> 
    <A HREF="mailto:slim-dev%40lists.berlios.de?Subject=Re%3A%20%5BSlim-dev%5D%20Bug%20%237870%3A%20feature%20request%3A%20better%20xsession%0A%09integration&In-Reply-To=%3C465E0824.30301%40parmus.dk%3E"
       TITLE="[Slim-dev] Bug #7870: feature request: better xsession	integration">parmus at parmus.dk
       </A><BR>
    <I>Thu May 31 01:26:28 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000036.html">[Slim-dev] Bug #7870: feature request: better xsession	integration
</A></li>
        <LI>Next message: <A HREF="000038.html">[Slim-dev] Bug #7870: feature request: better xsession	integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37">[ date ]</a>
              <a href="thread.html#37">[ thread ]</a>
              <a href="subject.html#37">[ subject ]</a>
              <a href="author.html#37">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> The change itself has a number of style problems:
</I>
We REALLY need a set of coding style guidelines soon ^_^. Especially as
the number of active developers increases.

I've fixed the style to your likings in the new attachment.

&gt;&gt;<i> +void Cfg::fillSessionList( void ) {
</I>&gt;<i> 
</I>&gt;<i> Passing the 'void' argument here is inconsistent with the rest of the
</I>&gt;<i> file, and the while project except the PAM code.
</I>
&lt;NOT A FLAMEBAIT&gt;
Just to point it out once more: we disagree on this particular style
issue ^_^.
Now I've said it. No point in discussing this further until we make a
code style guide.
&lt;/NOT A FLAMEBAIT&gt;

&gt;&gt;<i> +        DIR *pDir = opendir( strSessionDir.c_str( ) );
</I>&gt;&gt;<i> +
</I>&gt;&gt;<i> +        if( pDir != NULL ) {
</I>&gt;&gt;<i> +            struct dirent *pDirent = NULL;
</I>&gt;&gt;<i> +
</I>&gt;&gt;<i> +            while( ( pDirent = readdir( pDir ) ) != NULL ) {
</I>&gt;&gt;<i> +                std::string strFile( strSessionDir );
</I>&gt;&gt;<i> +                strFile += &quot;/&quot;;
</I>&gt;&gt;<i> +                strFile += pDirent-&gt;d_name;
</I>&gt;&gt;<i> +
</I>&gt;&gt;<i> +                struct stat oFileStat;
</I>&gt;&gt;<i> +                memset( &amp;oFileStat, 0, sizeof( struct stat ) );
</I>&gt;<i> What's the reasons to call memset on struct stat? I've searched the web
</I>&gt;<i> and although I saw it in other places too, I've haven't found an
</I>&gt;<i> explanation for it. I'm sure there's a reason for it, so please
</I>&gt;<i> enlighten me :-).
</I>
Well, the use of memset with old C-functions is usually just a safety
precaution against buggy implementations that doesn't fill in the whole
structure thus leaving unpredictable values in some fields. However I
have no knowledge about any particular examples of this in current
implementations and I haven't been about to find any mentioning of this
in relation to the stat function.
So I've removed it from the patch.

&gt;<i> Overall, the patch looks good, but I'd suggest we fix the style issues
</I>&gt;<i> in cfg.cpp first, and redo the patch afterwards to blend in.
</I>
I propose the opposite: let's get the release out soon, and then make a
minor release soon after with just code cleanup and style fixing and
zero feature additions. That way we can concentrate on one issue at the
time.
But this is just my personal opinion.

Cheers,
-- 
Martin Parm
Dept. of Computer Science
University of Copenhagen
Denmark
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: slim-pam-r134_add-sessiondir-support.patch
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/slim-dev/attachments/20070531/e1df0ab4/attachment.ksh">https://lists.berlios.de/pipermail/slim-dev/attachments/20070531/e1df0ab4/attachment.ksh</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000036.html">[Slim-dev] Bug #7870: feature request: better xsession	integration
</A></li>
	<LI>Next message: <A HREF="000038.html">[Slim-dev] Bug #7870: feature request: better xsession	integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37">[ date ]</a>
              <a href="thread.html#37">[ thread ]</a>
              <a href="subject.html#37">[ subject ]</a>
              <a href="author.html#37">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/slim-dev">More information about the Slim-dev
mailing list</a><br>
</body></html>
